<section class="main">
	<div class="wrap container">
		<div class="row">
			<div class="col-sm-2">
				<button (click)="resetGame()">NEW GAME</button>
				<button *ngIf="savedNetwork" (click)="loadGame()">LOAD SAVED GAME</button>
				<button *ngIf="!gamePaused" (click)="pauseGame()">PAUSE</button>
				<button *ngIf="gamePaused" (click)="resumeGame()">RESUME</button>
				<div class="row">
					<div class="col-xs-12">
						<button *ngIf="!isEditingWorld" (click)="editWorld()">EDIT</button>
					</div>
					<div class="col-sm-12" *ngIf="isEditingWorld">
						Change reward
						<input type="text" [(ngModel)]="network.reward" name="reward">
					</div>
					<div class="col-sm-12" *ngIf="isEditingWorld">
						Change intelligence
						<input type="text" [(ngModel)]="network.intelligence" name="intelligence">
					</div>
					<div class="col-sm-12" *ngIf="isEditingWorld">
						<button (click)="cancelEdit()">CANCEL</button>
						<button (click)="saveWorld()">SAVE</button>
					</div>
				</div>

			</div>
			<div class="col-lg-6">
				<div class="row">
					<div class="col-sm-12">
						<div class="world" [paused]="gamePaused" [editable]="isEditingWorld" [(world)]="network.world" worldComponent></div>
					</div>
				</div>
			</div>
			<div class="col-lg-4">
				<div class="happiness">
					<svg>
						<template ngFor let-point [ngForOf]="happinessData" let-rowindex="index">
							<svg:g>
			                    <svg:title>{{ point }}</svg:title>
			                    <svg:circle
			                    	[attr.fill]="color"
			                        [attr.cx]="rowindex * 10 + 10"
			                        [attr.cy]="(point / happinessRange) * 30 + 20"
			                        [attr.r]="2" />
			                    <svg:line *ngIf="rowindex > 0"
			                    	[attr.stroke]="color"
			                        [attr.x1]="(rowindex - 1) * 10 + 10"
			                        [attr.y1]="(happinessData[rowindex - 1] / happinessRange) * 30 + 20"
			                        [attr.x2]="rowindex * 10 + 10"
			                        [attr.y2]="(point / happinessRange) * 30 + 20"
			                        [attr.stroke-width]="2" />
		                   	</svg:g>
	                    </template>
                   	</svg>
				</div>
				
			</div>
		</div>
	</div>
</section>